package com.lenovo.test;

import java.io.IOException;
import java.net.Socket;
import java.net.UnknownHostException;

import javax.swing.plaf.SliderUI;

public class ClientDemo {

	/**
	 * @param args
	 * @throws InterruptedException
	 */
	public static void main(String[] args) throws Exception {

		Socket socket = null;
		try {

			Thread th = new Thread(new Runnable() {

				@Override
				public void run() {
					try {
						Runtime.getRuntime().exec(
								"adb forward tcp:12345 tcp:12345");
						Runtime.getRuntime().exec(
								"adb shell monkey --port 12345");
					} catch (IOException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}

				}
			});
			th.start();
			Thread.sleep(1000);
			socket = new Socket("127.0.0.1", 12345);
			socket.getOutputStream().write("touch down 69 744\n".getBytes());
			socket.getOutputStream().write("touch up 69 744\n".getBytes());
			socket.close();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
}
