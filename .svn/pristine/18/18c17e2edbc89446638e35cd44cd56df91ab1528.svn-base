package com.lenovo.ScreenCapture;

import com.android.chimpchat.ChimpManager;
import com.android.chimpchat.adb.AdbChimpDevice;
import com.android.chimpchat.core.IChimpDevice;
import com.android.chimpchat.core.TouchPressType;
import com.android.ddmlib.IDevice;

public class OperateAndroid {
	private AdbChimpDevice device;
	private ChimpManager manager;

	public static String HOME = "KEYCODE_HOME";
	public static String BACK = "KEYCODE_BACK";
	public static String MENU = "KEYCODE_MENU";

	public OperateAndroid(IDevice dev) {
		if (device == null) {

			IChimpDevice chimpDevice = new AdbChimpDevice(dev);
			device = (AdbChimpDevice) chimpDevice;
			manager = device.getManager();
		}
	}

	public void touch(int x, int y) {
		device.touch(x, y,
				com.android.chimpchat.core.TouchPressType.DOWN_AND_UP);
	}

	public void touch(int x, int y, TouchPressType type) {
		device.touch(x, y, type);
	}

	public void press(String str) {
		device.press(str, com.android.chimpchat.core.TouchPressType.DOWN_AND_UP);
	}

	public void drag(int startX, int startY, int endX, int endY, int time,
			int step) {
		device.drag(startX, startY, endX, endY, time, step);

	}

	public void type(char c) {
		device.type(Character.toString(c));
	}

	public void touchDown(int x, int y) throws Exception {
		manager.touchDown(x, y);
	}

	public void touchUp(int x, int y) throws Exception {
		manager.touchUp(x, y);
	}

	public void touchMove(int x, int y) throws Exception {
		manager.touchMove(x, y);
	}

}
